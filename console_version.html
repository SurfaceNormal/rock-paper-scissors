<!DOCTYPE html>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<html>
<head>
  <title>ROCK, PAPER, SCISSORS!</title>
</head>
<body>
	<p>Open the console (CTRL+SHIFT+I), and let's play! Type "game()" to start!</p>
  <script>
	function computerPlay() { // Randomize the Computer's selection
		let randomChoice = Math.floor(Math.random() * Math.floor(3));

		if (randomChoice == 0){
			return "rock";
		} else if (randomChoice == 1) {
			return "paper";
		} 

		return "scissors";
	}    

	function playerChoice() { // Prompt user until expected inputs entered
		let selection;

		do {
			selection = prompt("What's your pick? Rock? Paper? Or scissors?").toLowerCase()
		} while (selection != 'rock' && selection != 'paper' && selection != 'scissors');

		return selection;
	}

	function playRound(playerSelection, computerSelection) { 
		// Return 0 if game tied
		if (playerSelection == computerSelection) {
			console.log("You tie! (" + playerSelection + ")");
			return 0;
		} 
		// Return 1 for player wins
		else if (playerSelection == 'rock' && computerSelection == 'scissors') {
			console.log("You win! Rock beats scissors!");
			return 1;
		} else if (playerSelection == 'paper' && computerSelection == 'rock') {
			console.log("You win! Paper beats rock!");
			return 1;
		} else if (playerSelection == 'scissors' && computerSelection == 'paper') {
			console.log("You win! Scissors beats paper!");
			return 1;
		} 
		// Return -1 for CPU wins
		else if (computerSelection == 'rock' && playerSelection == 'scissors') {
			console.log("You lose! Rock beats scissors!");
			return -1;
		} else if (computerSelection == 'paper' && playerSelection == 'rock') {
			console.log("You lose! Paper beats rock!");
			return -1;
		}	
		console.log("You lose! Scissors beats paper!");
		return -1;
	}

	function game() {
		let playerScore = 0;
  		let computerScore = 0;
  		let ties = 0;
		let point = 0;

		console.log("Let's go! A best of five!");

		for (i=0; i < 5; i++) {
			point = playRound(playerChoice(), computerPlay());
			if (point == 0) {
				ties++;
			} else if (point < 0) {
				computerScore++;
			} else {
				playerScore++;
			}
			console.log("Round " + (i+1) + ", Player: " + playerScore + ", Computer: " + computerScore + ", Ties: " + ties);
		}

		if (playerScore == computerScore) {
			console.log("IT'S A DRAW!");
		} else if (playerScore < computerScore) {
			console.log("CPU VICTORY!");
		} else {
			console.log("YOU'RE THE VICTOR!");
		}
	}
  </script>
</body>
</html>
