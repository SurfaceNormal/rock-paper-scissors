<!DOCTYPE html>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<html>
<head>
  <title>ROCK, PAPER, SCISSORS!</title>
</head>
<body>
  <div id='display'>
  	<p>Let's play rock, paper, scissors! Best of five!</p>
  </div>	
  <div id='buttons'>
    <button id='rock'>Rock</button>
	<button id='paper'>Paper</button>
	<button id='scissors'>Scissors</button>
  </div>

  <script>
	function computerPlay() { // Randomize the Computer's selection
		let randomChoice = Math.floor(Math.random() * Math.floor(3));

		if (randomChoice == 0){
			return "rock";
		} else if (randomChoice == 1) {
			return "paper";
		} 

		return "scissors";
	}    

	/*function playerChoice() { 
		let selection;

		do {
			selection = prompt("What's your pick? Rock? Paper? Or scissors?").toLowerCase()
		} while (selection != 'rock' && selection != 'paper' && selection != 'scissors');

		return selection;
	}*/

	function playRound(playerSelection, computerSelection) { 
		const display = document.querySelector('#display');

		const winner = document.createElement('p');

		winner.classList.toggle('winner');

		if (playerSelection == computerSelection) {
			winner.textContent = "You tie! (" + playerSelection + ")";
		} else if (playerSelection == 'rock' && computerSelection == 'scissors') {
			winner.textContent = "You win! Rock beats scissors!";
		} else if (playerSelection == 'paper' && computerSelection == 'rock') {
			winner.textContent = "You win! Paper beats rock!";
		} else if (playerSelection == 'scissors' && computerSelection == 'paper') {
			winner.textContent = "You win! Scissors beats paper!";
		} else if (computerSelection == 'rock' && playerSelection == 'scissors') {
			winner.textContent = "You lose! Rock beats scissors!";
		} else if (computerSelection == 'paper' && playerSelection == 'rock') {
			winner.textContent = "You lose! Paper beats rock!";
		} else {
			winner.textContent = "You lose! Scissors beats paper!";
		}
		display.appendChild(winner);
	}

	/*function game() {
		let playerScore = 0;
  		let computerScore = 0;
  		let ties = 0;
		let point = 0;

		console.log("Let's go! A best of five!");

		for (i=0; i < 5; i++) {
			point = playRound(playerChoice(), computerPlay());
			if (point == 0) {
				ties++;
			} else if (point < 0) {
				computerScore++;
			} else {
				playerScore++;
			}
			console.log("Round " + (i+1) + ", Player: " + playerScore + ", Computer: " + computerScore + ", Ties: " + ties);
		}

		if (playerScore == computerScore) {
			console.log("IT'S A DRAW!");
		} else if (playerScore < computerScore) {
			console.log("CPU VICTORY!");
		} else {
			console.log("YOU'RE THE VICTOR!");
		}
	}*/

	// buttons is a node list. It looks and acts much like an array.
	const buttons = document.querySelectorAll('button');

	// we use the .forEach method to iterate through each button
	buttons.forEach((button) => {

    	// and for each one we add a 'click' listener
    	button.addEventListener('click', (e) => {
    		playRound(button.id, computerPlay());
    	});
	});


  </script>
</body>
</html>
